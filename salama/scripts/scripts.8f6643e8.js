"use strict";function routeProvider(a){a.when("/",{templateUrl:"views/home.html",controller:"HomeCtrl",controllerAs:"home"}).when("/evaluation",{templateUrl:"views/evaluation.html",controller:"EvaluationCtrl",controllerAs:"evaluation"}).when("/library",{templateUrl:"views/library.html",controller:"LibraryCtrl",controllerAs:"library"}).when("/article",{templateUrl:"views/article.html",controller:"ArticleCtrl",controllerAs:"article"}).when("/individuals",{templateUrl:"views/individuals.html",controller:"IndividualsCtrl",controllerAs:"individuals"}).when("/organizations",{templateUrl:"views/organizations.html",controller:"OrganizationsCtrl",controllerAs:"organizations"}).otherwise({redirectTo:"/"})}function translateProvider(a){a.useStaticFilesLoader({prefix:"resources/locale-",suffix:".json"}),a.preferredLanguage("en_US"),a.useLocalStorage()}function markdownProvider(a){a.setOptions({gfm:!0})}function MainCtrl(a){function b(b){a.use(b)}this.changeLang=b}function LibraryCtrl(a,b,c){function d(){a.$watch(h,e)}function e(a){c.setLang(a),c.getMeta().then(f)["catch"](i)}function f(a){console.log(a),j.metadata=a}function g(a){c.setPost(a)}function h(){return b.use()}function i(a){console.log("***Notify the IT department about this error"),console.log(a)}var j=this;j.meta=[],j.setPost=g,d()}angular.module("salamaApp",["ngAnimate","ngAria","ngCookies","ngRoute","ngSanitize","ngTouch","ngMaterial","pascalprecht.translate","hc.marked","ngStorage"]).config(routeProvider).config(translateProvider).config(markdownProvider),routeProvider.$inject=["$routeProvider"],translateProvider.$inject=["$translateProvider"],markdownProvider.$inject=["markedProvider"],angular.module("salamaApp").controller("MainCtrl",MainCtrl),MainCtrl.$inject=["$translate"],function(){function a(){}angular.module("salamaApp").controller("HomeCtrl",a),a.$inject=[]}(),function(){function a(){}angular.module("salamaApp").controller("EvaluationCtrl",a),a.$inject=[]}(),angular.module("salamaApp").controller("LibraryCtrl",LibraryCtrl),LibraryCtrl.$inject=["$scope","$translate","postsService"],function(){function a(a){function b(){a.getPost().then(function(a){c.article=a})}var c=this;c.article=null,b()}angular.module("salamaApp").controller("ArticleCtrl",a),a.$inject=["postsService"]}(),function(){function a(a,b,c){function d(){a.$watch(e,f)}function e(){return b.use()}function f(a){c.setLang(a),c.getEvalIndividuals().then(g)}function g(a){h.questions=a}var h=this;h.questions=[],h.answers=[],d()}angular.module("salamaApp").controller("IndividualsCtrl",a),a.$inject=["$scope","$translate","questionsService"]}(),angular.module("salamaApp").controller("OrganizationsCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),function(){function a(a,b){function c(a){a=a||"all";var b=k+"locale-"+a+".json";return h(b)}function d(a){var b=l+a;return h(b).then(function(a){return a=a.replace(/^---(.|\s)*?---/,""),a=a.replace(/{{site.baseurl}}/,i)})}function e(a){var b=n+a+".json";return h(b).then(function(a){return a.questions})}function f(a){var b=o+a+".json";return h(b).then(function(a){return a.questions})}function g(){return h(j)}function h(c){var d=a.defer();return b.get(c).then(function(a){d.resolve(a.data)},function(a){d.reject(a)}),d.promise}var i="https://raw.githubusercontent.com/spaceship-labs/salama-content/gh-pages/",j=i+"version.txt",k=i+"metadata/",l=i+"posts/",m=i+"questions/",n=m+"individuals/locale-",o=m+"organizations/locale-";return{urlSite:i,urlVersion:j,urlMeta:k,urlPosts:l,urlQuestions:m,urlIndividuals:n,urlOrganizations:o,getVersion:g,getMeta:c,getPost:d,getEvalIndividuals:e,getEvalOrganizations:f}}angular.module("salamaApp").factory("contentService",a),a.$inject=["$q","$http"]}(),function(){function a(a,b){function c(){return f().then(h)}function d(){return f().then(i)}function e(a){j.lang=a}function f(){return b.getVersion().then(g)}function g(a){return j.version&&j.version==a?!1:(j.version=a,!0)}function h(a){return!j.individuals[j.lang]||a?b.getEvalIndividuals(j.lang).then(function(a){return j.individuals[j.lang]=a,a}):j.individuals[j.lang]}function i(a){return!j.organizations[j.lang]||a?b.getEvalOrganizations(j.lang).then(function(a){return j.organizations[j.lang]=a,a}):j.organizations[lang]}var j;return a.questionsService=a.questionsService||{},j=a.questionsService,j.individuals=j.individuals||{},j.organizations=j.organizations||{},{getEvalIndividuals:c,getEvalOrganizations:d,setLang:e}}angular.module("salamaApp").factory("questionsService",a),a.$inject=["$localStorage","contentService"]}(),function(){function a(){var a="<ng-include src=\"'views/questions/'+question.type+'.html'\"></ng-include>";return{template:a,scope:{question:"="}}}angular.module("salamaApp").directive("formQuestion",a)}(),function(){function a(a,b){function c(a){return g().then(i)}function d(){return g().then(j)}function e(a){k.selected=a}function f(a){k.lang=a}function g(){return b.getVersion().then(h)}function h(a){return k.version&&k.version==a?!1:(k.version=a,!0)}function i(a){return!k.metadata[k.lang]||a?b.getMeta(k.lang).then(function(a){return k.metadata=a,a}):k.metadata}function j(a){return!k.post[k.selected]||a?b.getPost(k.selected).then(function(a){return k.post[k.selected]=a,a}):k.post[k.selected]}var k;return a.postService=a.postService||{},k=a.postService,k.metadata=k.metadata||{},k.post=k.post||{},{getMeta:c,getPost:d,setPost:e,setLang:f}}angular.module("salamaApp").factory("postsService",a),a.$inject=["$localStorage","contentService"]}(),angular.module("salamaApp").run(["$templateCache",function(a){a.put("views/article.html",'<div layout="column" flex-sm="100" flex-gt-sm="80"> <div marked="article.article"> </div> </div>'),a.put("views/evaluation.html",'<div flex="80" layout layout-padding layout-align="center"> <md-button flex="30" ng-href="#/individuals" class="md-primary md-raised"> <span translate>views.evaluation.individuals</span> </md-button> <md-button flex="30" ng-href="#/organizations" class="md-primary md-raised"> <span translate>views.evaluation.organizations</span> </md-button> </div>'),a.put("views/home.html",'<div flex="80" layout layout-padding layout-align="center"> <md-button flex="30" ng-href="#/library" class="md-primary md-raised"> <span translate>views.home.library</span> </md-button> <md-button flex="30" ng-href="#/evaluation" class="md-primary md-raised"> <span translate>views.home.evaluation</span> </md-button> </div>'),a.put("views/individuals.html",'<form layout="column" layout-padding flex-sm="100" flex-gt-sm="80"> <form-question ng-repeat="q in individuals.questions" question="q"> </form>'),a.put("views/library.html",'<div layout layout-wrap flex-sm="100" flex-gt-sm="80"> <div layout flex="50" class="test" ng-repeat="m in library.metadata"> <div flex="20"> <!--image--> image </div> <div layout="column" flex="80"> <div flex> <a href="#/article" ng-click="library.setPost(m.path)"> {{m.title}}-{{m.author}} </a> </div> <div flex>{{m.description}}</div> </div> </div> </div> <style>.test{\n    border:1px solid;\n  }</style>'),a.put("views/organizations.html","<p>This is the organizations view.</p>"),a.put("views/questions/checkbox.html",""),a.put("views/questions/email.html",'<span>{{question.instruction}}</span> <div layout flex="100"> <md-input-container flex="100"> <label>{{question.question}}</label> <input type="email"> </md-input-container> </div> <hr>'),a.put("views/questions/multiradio.html",'<span>{{question.instruction}}</span> <p>{{question.question}}</p> <div> <div layout flex="50" flex-offset="50" layout-wrap> <span ng-repeat="option in question.options[0].options" flex> {{option.option}} </span> </div> <div layout flex="100" layout-wrap ng-repeat="qoption in question.options"> <div flex="50"> {{qoption.question}} </div> <div flex="50"> <md-radio-group layout> <md-radio-button ng-repeat="option in qoption.options" flex> {{opt.option}} </md-radio-button> </md-radio-group> <hr> </div> </div> </div> <hr>'),a.put("views/questions/radio.html",'<span>{{question.instruction}}</span> <p>{{question.question}}</p> <div layout flex="100"> <md-radio-group flex="100" ng-model="question.answer"> <md-radio-button ng-repeat="option in question.options" value="{{option.value}}"> {{option.option}} </md-radio-button> </md-radio-group> </div> <hr>'),a.put("views/questions/text.html",'<span>{{question.instruction}}</span> <div layout flex="100"> <md-input-container flex="100"> <label>{{question.question}}</label> <input type="text"> </md-input-container> </div> <hr>')}]);